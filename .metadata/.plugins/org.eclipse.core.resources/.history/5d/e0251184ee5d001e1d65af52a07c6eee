package abstractfactory;

import factorymethod.Config;
import factorymethod.Dialog;
import factorymethod.WebDialog;
import factorymethod.WindowsDialog;

public class AbstractFactory {
	
	public static GUIFactory factory;
	
	public static void main(String[] args) {

		String os = "Windows";

		if (os.equals("Windows")) {
			factory = new WinFactory();
		} else if (os.equals("Mac")) {
			factory = new MacFactory();
		} else {
			throw new IllegalArgumentException("Error! Unknown operating system.");
		}

		Application app = new Application(factory);
		app.createUI();
	}

}

class Application {
	private GUIFactory factory;
	private Button button;
	private Checkbox checkbox;
	
	public Application(GUIFactory factory) {
		this.factory = factory;
		createUI();
	}
	
	public void createUI() {
		button = factory.createButton();
		checkbox = factory.createCheckbox();
	}
	
	public void paint() {
		button.paint();
		checkbox.paint();
	}
}

class Application {

	public Dialog dialog;

	public void initialize() {
		String os = readApplicationConfigFile().getOS();

		if ("Windows".equals(os)) {
			dialog = new WindowsDialog();
			System.out.println("Windows");
		} else if ("Web".equals(os)) {
			dialog = new WebDialog();
			System.out.println("Web");
		} else {
			throw new IllegalArgumentException("Sistema Operacional n√£o reconhecido!");
		}
	}

	public void render() {
		this.initialize();
		dialog.render();
		dialog.botao.render();
		dialog.botao.onclick();
	}

	private Config readApplicationConfigFile() {
		return new Config("Web");
	}
}

class Config {
	private String os;

	public Config(String os) {
		this.os = os;
	}

	public String getOS() {
		return os;
	}
}

interface Button {
	void paint();
}

class WinButton implements Button {
	public void paint() {
		System.out.println("Windows button is painted");
	}
}

class MacButton implements Button {
	public void paint() {
		System.out.println("MacOS button is painted");
	}
}

interface Checkbox {
	void paint();
}

class WinCheckbox implements Checkbox {
	public void paint() {
		System.out.println("Windows checkbox is painted");
	}
}

class MacCheckbox implements Checkbox {
	public void paint() {
		System.out.println("MacOS checkbox is painted");
	}
}

interface GUIFactory {
	Button createButton();

	Checkbox createCheckbox();
}

class WinFactory implements GUIFactory {
	public Button createButton() {
		return new WinButton();
	}

	public Checkbox createCheckbox() {
		return new WinCheckbox();
	}
}

class MacFactory implements GUIFactory {
	public Button createButton() {
		return new MacButton();
	}

	public Checkbox createCheckbox() {
		return new MacCheckbox();
	}
}